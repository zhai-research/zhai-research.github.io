{% extends "base.html" %}

{% block content %}
  <article class="mx-auto w-full max-w-4xl">
    <header class="border-b border-slate-300/80 pb-7 text-center dark:border-slate-700/80">
      <p class="text-[11px] font-semibold uppercase tracking-[0.18em] text-slate-500 dark:text-slate-400">Research Paper</p>
      <h1 class="mt-2 text-2xl font-bold leading-tight text-slate-900 sm:text-4xl dark:text-slate-100">{{ page.title }}</h1>

      {% if page.extra.authors %}
        <p class="mx-auto mt-4 max-w-3xl text-sm text-slate-700 dark:text-slate-300">{{ page.extra.authors }}</p>
      {% endif %}

      <p class="mt-2 text-xs text-slate-500 dark:text-slate-400">
        {% if page.extra.venue %}{{ page.extra.venue }}{% endif %}
        {% if page.extra.venue and page.date %} · {% endif %}
        {% if page.date %}{{ page.date | date(format="%Y-%m-%d") }}{% endif %}
      </p>

      <div class="mt-4 flex flex-wrap items-center justify-center gap-x-3 gap-y-1 text-sm text-slate-700 dark:text-slate-300">
        {% if page.extra.url %}
          <a class="underline underline-offset-2 transition-colors duration-150 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400/60 dark:hover:text-white dark:focus-visible:ring-slate-500/60 motion-reduce:transition-none" href="{{ page.extra.url }}" target="_blank" rel="noreferrer">Paper</a>
        {% endif %}
        {% if page.extra.code %}
          <span class="text-slate-400 dark:text-slate-500">|</span>
          <a class="underline underline-offset-2 transition-colors duration-150 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400/60 dark:hover:text-white dark:focus-visible:ring-slate-500/60 motion-reduce:transition-none" href="{{ page.extra.code }}" target="_blank" rel="noreferrer">Code</a>
        {% endif %}
        {% if page.extra.arxiv %}
          <span class="text-slate-400 dark:text-slate-500">|</span>
          <a class="underline underline-offset-2 transition-colors duration-150 hover:text-slate-900 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-400/60 dark:hover:text-white dark:focus-visible:ring-slate-500/60 motion-reduce:transition-none" href="{{ page.extra.arxiv }}" target="_blank" rel="noreferrer">arXiv</a>
        {% endif %}
      </div>
    </header>

    {% if page.extra.image %}
      <section class="mt-7 overflow-hidden border border-slate-300/80 dark:border-slate-700/80">
        <img class="h-auto w-full object-cover" src="{{ page.extra.image }}" alt="{{ page.title }}" loading="lazy" />
      </section>
    {% endif %}

    <section class="mt-7 border-b border-slate-300/80 pb-7 dark:border-slate-700/80">
      <h2 class="text-lg font-semibold text-slate-900 dark:text-slate-100">Abstract</h2>
      {% if page.extra.abstract %}
        <p class="mt-2 text-sm leading-7 text-slate-700 sm:text-base dark:text-slate-300">{{ page.extra.abstract }}</p>
      {% else %}
        <p class="mt-2 text-sm leading-7 text-slate-600 sm:text-base dark:text-slate-400">摘要内容请见正文中的“摘要”章节。</p>
      {% endif %}
    </section>

    <section class="mt-7">
      <div class="space-y-3 text-sm text-slate-700 sm:space-y-4 sm:text-base dark:text-slate-300 [&_h1]:mt-7 [&_h1]:text-2xl [&_h1]:font-bold [&_h1]:text-slate-900 sm:[&_h1]:text-3xl dark:[&_h1]:text-slate-100 [&_h2]:mt-7 [&_h2]:text-xl [&_h2]:font-semibold [&_h2]:text-slate-900 sm:[&_h2]:text-2xl dark:[&_h2]:text-slate-100 [&_h3]:mt-5 [&_h3]:font-semibold [&_h3]:text-slate-800 dark:[&_h3]:text-slate-200 [&_p]:leading-7 sm:[&_p]:leading-8 [&_p]:text-slate-700 dark:[&_p]:text-slate-300 [&_a]:text-slate-800 [&_a]:underline [&_a]:underline-offset-2 dark:[&_a]:text-slate-200 [&_code]:rounded [&_code]:bg-slate-200 [&_code]:px-1.5 [&_code]:py-0.5 [&_code]:text-slate-900 dark:[&_code]:bg-slate-800 dark:[&_code]:text-slate-100 [&_img]:max-w-full [&_pre]:overflow-x-auto [&_pre]:border [&_pre]:border-slate-300 [&_pre]:bg-slate-100 [&_pre]:p-4 [&_pre]:text-slate-900 dark:[&_pre]:border-slate-700 dark:[&_pre]:bg-slate-950 dark:[&_pre]:text-slate-100 [&_strong]:text-slate-900 dark:[&_strong]:text-slate-100">
        {{ page.content | safe }}
      </div>
    </section>

    {% if page.extra.bibtex %}
      <section class="mt-7 border-t border-slate-300/80 pt-7 dark:border-slate-700/80">
        <h2 class="text-lg font-semibold text-slate-900 dark:text-slate-100">BibTeX</h2>
        <pre class="mt-3 overflow-x-auto border border-slate-300 bg-slate-100 p-4 text-xs text-slate-900 dark:border-slate-700 dark:bg-slate-950 dark:text-slate-100"><code>{{ page.extra.bibtex }}</code></pre>
      </section>
    {% endif %}
  </article>
{% endblock content %}
